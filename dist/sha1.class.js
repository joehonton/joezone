var Crypto=require("crypto"),expect=require("./expect.function.js"),Pfile=require("./pfile.class.js"),BinaryReader=require("./binary-reader.class.js"),TextReader=require("./text-reader.class.js");module.exports=class{constructor(){Object.seal(this)}checksum(pfile){expect(pfile,"Pfile");var crypto=Crypto.createHash("sha1"),tr=new TextReader;tr.open(pfile.getFQN());for(var sourceline;null!=(sourceline=tr.getline());)crypto.update(sourceline,"utf8");tr.close();var digest=crypto.digest("hex");return digest}checksumBinary(pfile){expect(pfile,"Pfile");var crypto=Crypto.createHash("sha1"),br=new BinaryReader;for(br.open(pfile.getFQN());br.readBlock();)crypto.update(br.buffer);br.close();var digest=crypto.digest("hex");return digest}};